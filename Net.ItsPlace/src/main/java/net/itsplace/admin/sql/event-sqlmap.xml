<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="event">
	
	<typeAlias type="net.itsplace.domain.PlaceEvent" alias="PlaceEvent"/>

    <insert id="savePlaceEvent" parameterClass="PlaceEvent">
         
        INSERT INTO PLACEEVENT(TITLE, CONTENT, FID,  ISAUTH, ISDELETE, STARTDATE, SAVEDATE, ENDDATE)
        VALUES (#title#, #content#, #place.fid#,  'N', 'N', #startDate#, now(), #endDate#)
         
        
	    
    </insert>
    <update id="editPlaceEvent" parameterClass="PlaceEvent">
         UPDATE  PLACEEVENT
         SET TITLE = #title# ,
             CONTENT = #content#,
             ISAUTH = #isAuth#, 
             ISDELETE = #isDelete#, 
             STARTDATE = #startDate#,
             ENDDATE = #endDate#,
      	WHERE FID = #eid#        
    </update>
    <select id="getPlaceEventList" parameterClass="int" resultClass="PlaceEvent">
        SELECT EID 
        	TITLE,
            CONTENT,
            ISAUTH,
            ISDELETE,
            STARTDATE,
            ENDDATE
        FROM PLACEEVENT 
        WHERE FID = #fid#    
    </select> 
  
</sqlMap>